# 编程的艺术

## 1-1 变量命名的艺术总论

新手就是 代码、算法与数据结构 。。。 有人问这些都搞定了怎么办。编程的最高境界：编程的艺术。

停留在语言的层次，那是最低级的。真正的大师，他们谈论问题的时候不会停留在 代码、算法与数据结构 和 语言上。他们会提升到一个非常高的层次，编程的艺术。★

也就是说 思维 和 艺术，直接决定了你之后写代码的高度。

一个好的变量名，是长期的效益。

当面试官让你当场手敲代码，你的变量名不是 int a，就是 int b 。当你这样的话，你基本上就与大厂无缘了。

变量名命名的艺术就来源于生活，因为艺术就来源于生活。

你在公司写代码不是给你一个人看的，你要清楚这点。

### 好的变量命名的特点：

可读性、容易记、见名知义（恰如其分）、一眼就能看出来你要干啥。

---

一定要把变量名完整的表达出来，但是不建议特别特别长。有时候长和完整需要取舍，不是说所有东西都要完善。

```c
// 像这样命名函数，是对软件工程的侮辱。如果你是新手，可以理解。但如果你是教学多年的老师，我不能容忍。有没有良心，这是误导学生。
double x(User user) {
	...
}
```

变量名直接关系到你的 代码质量 等等重大问题。

这个视频不仅是给学生看的，也是给老师看的。有这么一句话：老师是园丁，学生是花朵。你园丁浇的是硫酸，花朵能长吗？

## 1-2 变量名如何取更 sao ，哦不是，更为恰当

英语不好不是你使用 s1、s2 的理由，字典不知道查吗？

### 命名的主旨：

1. 表达了什么

2. 单词的立意 （单词的立意利用数据类型确定）：单词的立意在生活中和学术界是不同的。★

>  变量名应该是表达了什么，而不是怎么样。★

### 好的变量命名：

studentData

input_stu_data

input_rec ：一条记录。

财务报告系统中的 求总值：不要使用 sum ，会混淆，大家都认为你可能要写一个求和函数 sum，使用：★

cal_val(ue)

---

企业开发是非常重视变量命名的，尤其是大企业，外企更严格。★

## 1-3 变量名的长度讲究：你被大厂外企拒绝的原因之一

> www.ifsq.org —— 论文网站

我们关注的重点是研究成果。

1990 年发布的一片论文，大家可以去搜索看一下：

> Debugging Effort Estimation using Software Metrics

### 长度范围：

8 - 20 个字符，大家能够接受的范围。

有些企业可能 10 - 16，9 - 15，都是可能的。

> 通常情况下，你 8 - 20 ，问题不大。★

---

人家 90 年就发布了这个论文，你说你 0 几年的教案，还 tm int a，int b 的，只能说明你菜，什么 985、211，是吧。

> 函数作用域通常也是限定变量是干什么的。

> 有的公司如果考你当场写代码，一定要注意代码的美观，比如：等号两边的空格一定要有。★★

```java
// 错误写法
int num=0;

// 正确写法
int num = 0;
```

> 它为什么要当场考你？就是为了看你写代码规不规范，是个怎么样的风格。非常的重要，你不要觉得不重要。★★★

如果你只是想混口饭吃，那真的不重要，谁又不想学好呢？

## 1-4 变量作用域和长度有关，这还真有讲究

> 变量的命名取决于它的作用域。

像 int i，int k 这种，一般都在 for 语句里面嵌套，变成局部变量。

> 作用域就相当于护照。全局变量就是每个国家的护照都有。★

> 如果希望在 for 外面继续使用该变量，这个变量名就不能定义为 i ；否则会产生歧义。★

### Software Psychology：

Ben Shneiderman 这个人对计算机作出了一定的贡献，它是 University of Maryland, College Park 的教授，该校的艺术是全美最好的。所以计算机的最高境界是艺术。

它写了一本书，很牛逼：Software Psychology: Human Factors in Computer and Information Systems 。

这本书看不到了，简要介绍一下内容：

> 特别短的变量名（不足 8 个字母）适用于局部变量。

### 同名类的区分：（避免冲突）

通过包（C++ 为命名空间 (namespace）来区分：

User's wallet: 

```java
package com.google.user

public class Wallet {
    ... 
}
```

Dog's wallet: 

```java
package com.google.dog

public class Wallet {
    ... 
}
```

> 所以语言都是互通的。★★

像包和命名空间这种，有个权威的名字：划分全局命名空间。

像 C 语言这种不支持命名空间这种规范的语言可以通过增加前缀的方式区分：

```
design_Employee

dev_Employee
```

## 1-5 变量计数词的选用

> 计数词：sum, avg, average, max, min, total, num ... 

像员工的数量，不建议使用 sum 计数，使用 total ，可能更好一些：★

但下述命名仍然都不合理。（但还是有人写代码是这种风格）★

```c
// 把计数单词放前边
int total_employees;

// 为什么不使用 num ?
// 因为把这俩倒过来，是有歧义的，可能被理解为员工号。
// 这就是为什么不经常用 sum 和 num 这种词。
int num_employees;
int employees_num;
```

**正确命名：（将计数词放后边）**

```c
// employee 写前面就不要加 s 了。★
int employee_total;
int employee_count;

// 员工号
int employee_index;
```

上面这样就比较清楚。当然有些企业可能不是这样规范的，随机应变，这东西不是死板的。这样只是说比较规范，比较好看。★

> 各个公司有各种不同的风格，谁对谁错不是重要的，没有这种说法，重要的是你要去遵守。★★★

> 大概就是这个意思，大家尽可能将计数词放后面。★

## 1-6 对立词选择建议

对立的词不要对应错了：

up -- down

old -- new

first -- last

min -- max

opened -- closed

locked -- unlocked

begin -- end

...

## 1-7 常量、宏、指针的一些风格

去 Linux 的项目看看就知道了，随便找一个文件。

常量大写就完事儿。

**注：**常量不能这么玩儿：

```c
// 不能这样玩儿，都写了 five 了，还 5，多此一举。
// 常量应该表示的是它的意义（略抽象的一个东西），而不是数值。
#define NUM_FIVE 5
```

常量谷歌公司是这样定义的，其他公司可以不管：( C++ )

```c++
// 缘由：跟 MacOS 有关，故事很长。还跟哪里人有关。可能是匈牙利命名法，它要求每个变量名之前必须要确定变量的类型。以前苹果公司也这样用过。
// 为啥不用 cDaysInYear? 听说 c 更多表示计数器。而且会产生歧义，像 class 啊，感觉 c 开头的关键字很多。
const int kDaysInYear = 100;
```

> 了解一下就行，这只是个约定，我觉得还是交给匈牙利人去流传。★

## 1-8 谈谈循环计数器 i, k, j

C 里面宏比较多，但 C++ 要求宏少用。因为宏在 C++ 中偏向于写那些性能关键的代码，但现在都用内联函数。★★

> Java 允许在循环的里面使用 int i，但一定要在`for()`括号里面定义。将 i 定义在外面，是不允许的，因为后面的代码可能会使用到它，造成变量污染。★

如果是多重循环，二维数组，千万不要在`for()`里面定义成 i, j, k 。因为这样玩儿来玩儿去，你也分不清哪个是哪个。★

> 这就是为什么有人学二维数组他就懵了，因为命名不规范呀。也许你当时知道，过了一会儿，诶这个 i 和 k 是啥？真实。★★

> 当逻辑层比较复杂、恶心的时候，你最好把你的 i, j, k 改了，改成命名更加规范的写法（如前文所述）。★★★

使用 i 和 j 很容易混淆，会出错，还可能写反。

### 总结：

使用 i, j, k 的条件：

1. 在 for 循环内。
2. 逻辑简单。

如果你问别人代码，他不回你，有三种情况：

1. 它不会。
2. 它不知道你在干啥。
3. 你代码写的有问题。

## 1-9 枚举命名

按照常量的规范来。

> 各个语言的风格不同，但都是相通的。根据实际情况来，跟语言、公司、项目和你的领导有关。★

## 1-10 临时变量的讲究

如果临时变量后面还要用，还要输出，就不要起名为 temp ，就应该根据实际的意义取普通的名字。★★★

在 for 语句内定义 temp 的缺点：

```c
for (int i = 0; i < 10; ++i) {
    // 缺点：每次循环都要定义一次 temp 。★
    int temp = array[i];
}
```

所以有的人定义在外面，也能说得过去：

```c
int temp = 0;
for (int i = 0; i < 10; ++i) {
    temp = array[i];
}
```

为啥不定义在`int i`后面接着呢？